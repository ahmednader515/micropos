(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{954:function(c,e,d){Promise.resolve().then(d.bind(d,2402))},2402:function(c,e,d){"use strict";d.r(e),d.d(e,{default:function(){return n}});var s=d(7437),r=d(9102),o=d.n(r),t=d(2265),a=d(453),l=d(9519);function n(){let[c,e]=(0,t.useState)([]),[d,r]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[m,u]=(0,t.useState)({name:"",description:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",sku:"",categoryId:""});(0,t.useEffect)(()=>{x()},[]);let x=async()=>{try{let c=await fetch("/api/categories");if(c.ok){let d=await c.json();e(d.categories)}}catch(c){console.error("Error fetching categories:",c)}},f=async c=>{c.preventDefault(),r(!0);try{let c=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,price:parseFloat(m.price),costPrice:parseFloat(m.costPrice),stock:parseInt(m.stock),minStock:parseInt(m.minStock)})});if(c.ok)alert("تم إضافة المنتج بنجاح!"),u({name:"",description:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",sku:"",categoryId:""});else{let e=await c.json();alert("خطأ: ".concat(e.error))}}catch(c){console.error("Error creating product:",c),alert("حدث خطأ أثناء إضافة المنتج")}finally{r(!1)}},p=c=>{let{name:e,value:d}=c.target;u(c=>({...c,[e]:d}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o(),{id:"ccc33c1d4defd8d1",children:'input[type="text"].jsx-ccc33c1d4defd8d1{color:black!important}input[type="number"].jsx-ccc33c1d4defd8d1{color:black!important}textarea.jsx-ccc33c1d4defd8d1{color:black!important}select.jsx-ccc33c1d4defd8d1{color:black!important}input.jsx-ccc33c1d4defd8d1::-webkit-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1:-moz-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::-moz-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1:-ms-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::-ms-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-webkit-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1:-moz-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-moz-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1:-ms-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-ms-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::placeholder{color:#6b7280!important}'}),(0,s.jsxs)(a.default,{navbarTitle:"إضافة منتج جديد",onBack:()=>window.history.back(),children:[(0,s.jsxs)("div",{dir:"rtl",className:"jsx-ccc33c1d4defd8d1 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("h1",{className:"jsx-ccc33c1d4defd8d1 text-2xl sm:text-3xl font-bold text-gray-900",children:"إضافة منتج جديد"}),(0,s.jsx)("p",{className:"jsx-ccc33c1d4defd8d1 mt-2 text-gray-600",children:"أدخل تفاصيل المنتج الجديد"})]}),(0,s.jsx)("div",{className:"jsx-ccc33c1d4defd8d1 bg-white shadow-sm rounded-lg p-6",children:(0,s.jsxs)("form",{onSubmit:f,className:"jsx-ccc33c1d4defd8d1 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"name",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"اسم المنتج *"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:m.name,onChange:p,required:!0,placeholder:"أدخل اسم المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"categoryId",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الفئة"}),(0,s.jsxs)("select",{id:"categoryId",name:"categoryId",value:m.categoryId,onChange:p,className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",className:"jsx-ccc33c1d4defd8d1",children:"اختر الفئة"}),c.map(c=>(0,s.jsx)("option",{value:c.id,className:"jsx-ccc33c1d4defd8d1",children:c.name},c.id))]})]})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"description",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:m.description,onChange:p,rows:3,placeholder:"وصف المنتج (اختياري)",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"price",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"سعر البيع *"}),(0,s.jsx)("input",{type:"number",id:"price",name:"price",value:m.price,onChange:p,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"costPrice",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"سعر التكلفة"}),(0,s.jsx)("input",{type:"number",id:"costPrice",name:"costPrice",value:m.costPrice,onChange:p,min:"0",step:"0.01",placeholder:"0.00",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"stock",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الكمية المتوفرة *"}),(0,s.jsx)("input",{type:"number",id:"stock",name:"stock",value:m.stock,onChange:p,required:!0,min:"0",placeholder:"0",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"minStock",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الحد الأدنى للمخزون"}),(0,s.jsx)("input",{type:"number",id:"minStock",name:"minStock",value:m.minStock,onChange:p,min:"0",placeholder:"0",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"barcode",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الباركود"}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 flex items-center space-x-2 space-x-reverse",children:[(0,s.jsx)("div",{className:"jsx-ccc33c1d4defd8d1 flex-1",children:(0,s.jsx)("input",{type:"text",id:"barcode",name:"barcode",value:m.barcode,onChange:p,placeholder:"باركود المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,s.jsx)("button",{type:"button",onClick:()=>i(!0),className:"jsx-ccc33c1d4defd8d1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-ccc33c1d4defd8d1 w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z",className:"jsx-ccc33c1d4defd8d1"})})})]})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[(0,s.jsx)("label",{htmlFor:"sku",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"رمز المنتج (SKU)"}),(0,s.jsx)("input",{type:"text",id:"sku",name:"sku",value:m.sku,onChange:p,placeholder:"رمز المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,s.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 flex justify-end space-x-3 space-x-reverse",children:[(0,s.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"jsx-ccc33c1d4defd8d1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"إلغاء"}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"jsx-ccc33c1d4defd8d1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"جاري الإضافة...":"إضافة المنتج"})]})]})})]}),(0,s.jsx)(l.Z,{isVisible:n,onResult:c=>{u(e=>({...e,barcode:c})),i(!1)},onClose:()=>i(!1)})]})]})}}},function(c){c.O(0,[186,987,971,458,744],function(){return c(c.s=954)}),_N_E=c.O()}]);