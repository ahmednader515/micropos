exports.id=188,exports.ids=[188],exports.modules={19596:()=>{},4509:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},18999:(e,s,r)=>{"use strict";r.d(s,{Z:()=>i});var a=r(95344),t=r(47983),c=r.n(t),l=r(3729),d=r(69889),o=r(26166),n=r.n(o);function i({onResult:e,onClose:s,isVisible:r}){let[t,o]=(0,l.useState)(""),[i,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)("image"),[g,u]=(0,l.useState)(!1),j=(0,l.useRef)(null),b=(0,l.useRef)(null);(0,l.useEffect)(()=>()=>{g&&n().stop()},[g]),(0,l.useEffect)(()=>{!r&&g&&(n().stop(),u(!1))},[r,g]),(0,l.useEffect)(()=>{console.log("Camera container ref changed:",b.current)},[b.current]);let p=()=>{console.log("startCamera called"),console.log("Quagga available:",void 0!==n()),console.log("navigator.mediaDevices available:",!!navigator.mediaDevices),console.log("Camera container ref:",b.current),setTimeout(()=>{if(!b.current){console.error("Camera container ref is null after delay"),o("خطأ في تهيئة الكاميرا");return}console.log("Starting camera..."),o(""),u(!0);try{n().stop()}catch(e){console.log("No existing Quagga instance to stop")}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){o("متصفحك لا يدعم الوصول إلى الكاميرا"),u(!1);return}navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{console.log("Camera access granted, stream:",e),e.getTracks().forEach(e=>e.stop()),v()}).catch(e=>{console.error("Camera access denied:",e),o("تم رفض الوصول إلى الكاميرا. تأكد من السماح بالوصول إلى الكاميرا."),u(!1)})},100)},v=()=>{if(!b.current){console.error("Camera container ref is null in initializeQuagga"),o("خطأ في تهيئة الكاميرا"),u(!1);return}let s={inputStream:{name:"Live",type:"LiveStream",target:b.current,constraints:{width:{min:320,ideal:640,max:1280},height:{min:180,ideal:360,max:720},facingMode:"environment",aspectRatio:16/9}},locator:{patchSize:"large",halfSample:!1},numOfWorkers:4,frequency:25,decoder:{readers:["code_128_reader","ean_reader","ean_8_reader","code_39_reader","code_39_vin_reader","codabar_reader","upc_reader","upc_e_reader","i2of5_reader"]},locate:!0};console.log("Initializing Quagga with config:",s),n().init(s,e=>{if(e){console.error("Quagga initialization error:",e);let s={inputStream:{name:"Live",type:"LiveStream",target:b.current,constraints:{width:640,height:360,facingMode:"environment",aspectRatio:16/9}},locator:{patchSize:"medium",halfSample:!0},numOfWorkers:2,frequency:15,decoder:{readers:["code_128_reader","ean_reader","code_39_reader"]},locate:!0};console.log("Trying with simpler config..."),n().init(s,e=>{if(e){console.error("Quagga simple config also failed:",e),o("فشل في تشغيل الكاميرا. تأكد من السماح بالوصول إلى الكاميرا."),u(!1);return}console.log("Quagga initialized successfully with simple config"),n().start()});return}console.log("Quagga initialized successfully"),n().start()}),n().onDetected(s=>{let r=s.codeResult.code;console.log("Barcode detected:",r),e(r),n().stop(),u(!1)}),n().onProcessed(e=>{e&&console.log("Frame processed")})},f=()=>{n().stop(),u(!1)},y=async s=>{let r=s.target.files?.[0];if(r){x(!0),o("");try{let s=new d.BrowserMultiFormatReader,a=URL.createObjectURL(r),t=new Image;t.onload=async()=>{try{let r=await s.decodeFromImage(t);e(r.getText())}catch(e){console.error("ZXing decode error:",e),o("لم يتم العثور على باركود في الصورة. تأكد من أن الصورة واضحة وتحتوي على باركود.")}finally{x(!1),URL.revokeObjectURL(a),j.current&&(j.current.value="")}},t.onerror=()=>{o("حدث خطأ في تحميل الصورة. تأكد من أن الملف صحيح."),x(!1),URL.revokeObjectURL(a),j.current&&(j.current.value="")},t.src=a}catch(e){console.error("Image scan error:",e),o("حدث خطأ أثناء قراءة الصورة. تأكد من أن الصورة واضحة."),x(!1),j.current&&(j.current.value="")}}},N=e=>{g&&f(),h(e),o("")};return r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c(),{id:"a37c90c11d2d9559",children:'input[type="file"].jsx-a37c90c11d2d9559{color:black!important}input[type="text"].jsx-a37c90c11d2d9559{color:black!important}input[type="number"].jsx-a37c90c11d2d9559{color:black!important}textarea.jsx-a37c90c11d2d9559{color:black!important}select.jsx-a37c90c11d2d9559{color:black!important}'}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 fixed top-0 left-0 right-0 bottom-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{style:{color:"black"},className:"jsx-a37c90c11d2d9559 bg-white rounded-lg p-3 w-full max-w-sm sm:max-w-md mx-4 max-h-[95vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 flex justify-between items-center mb-3",children:[a.jsx("h3",{className:"jsx-a37c90c11d2d9559 text-base font-semibold text-gray-900",children:"قارئ الباركود"}),a.jsx("button",{onClick:s,className:"jsx-a37c90c11d2d9559 text-gray-400 hover:text-gray-600",children:a.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a37c90c11d2d9559 w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-a37c90c11d2d9559"})})})]}),t&&a.jsx("div",{className:"jsx-a37c90c11d2d9559 mb-3 p-2 bg-red-100 border border-red-400 text-red-700 rounded-md text-xs",children:t}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 mb-4",children:(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>N("image"),className:`jsx-a37c90c11d2d9559 flex-1 py-2 px-3 text-xs rounded-md transition-colors ${"image"===m?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83D\uDCF7 رفع صورة"}),a.jsx("button",{onClick:()=>N("camera"),className:`jsx-a37c90c11d2d9559 flex-1 py-2 px-3 text-xs rounded-md transition-colors ${"camera"===m?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83D\uDCF9 كاميرا مباشرة"})]})}),"image"===m?(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 text-center",children:[a.jsx("div",{className:"jsx-a37c90c11d2d9559 mb-3",children:a.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a37c90c11d2d9559 w-12 h-12 mx-auto text-gray-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",className:"jsx-a37c90c11d2d9559"})})}),a.jsx("p",{className:"jsx-a37c90c11d2d9559 text-black mb-3 text-sm",children:"اختر صورة تحتوي على باركود"}),(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 text-center text-xs text-gray-500 mb-3",children:[a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"نصائح للصور:"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• تأكد من أن الباركود واضح ومضاء جيداً"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• تجنب الظلال والانعكاسات"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• استخدم صور عالية الدقة"})]}),a.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:y,className:"jsx-a37c90c11d2d9559 hidden"}),a.jsx("button",{onClick:()=>j.current?.click(),disabled:i,className:"jsx-a37c90c11d2d9559 bg-blue-600 text-white px-4 py-1.5 rounded-md hover:bg-blue-700 transition-colors text-sm disabled:opacity-50",children:i?"جاري المعالجة...":"اختيار صورة"})]}):(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 text-center",children:[a.jsx("div",{className:"jsx-a37c90c11d2d9559 mb-3",children:a.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a37c90c11d2d9559 w-12 h-12 mx-auto text-gray-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",className:"jsx-a37c90c11d2d9559"})})}),(0,a.jsxs)("div",{ref:b,className:`jsx-a37c90c11d2d9559 w-full aspect-video rounded-lg overflow-hidden mb-3 relative ${g?"bg-gray-100":"bg-gray-200"}`,children:[!g&&a.jsx("div",{className:"jsx-a37c90c11d2d9559 flex items-center justify-center h-full text-gray-500",children:(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 text-center",children:[a.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-a37c90c11d2d9559 w-8 h-8 mx-auto mb-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",className:"jsx-a37c90c11d2d9559"})}),a.jsx("p",{className:"jsx-a37c90c11d2d9559 text-xs",children:"كاميرا غير نشطة"})]})}),g&&(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute top-2 left-2 sm:top-4 sm:left-4 w-6 h-6 sm:w-8 sm:h-8 border-l-2 border-t-2 border-green-500"}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute top-2 right-2 sm:top-4 sm:right-4 w-6 h-6 sm:w-8 sm:h-8 border-r-2 border-t-2 border-green-500"}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute bottom-2 left-2 sm:bottom-4 sm:left-4 w-6 h-6 sm:w-8 sm:h-8 border-l-2 border-b-2 border-green-500"}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute bottom-2 right-2 sm:bottom-4 sm:right-4 w-6 h-6 sm:w-8 sm:h-8 border-r-2 border-b-2 border-green-500"}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-40 h-12 sm:w-48 sm:h-16 border-2 border-green-500 border-dashed"}),a.jsx("div",{className:"jsx-a37c90c11d2d9559 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-40 h-1 sm:w-48 sm:h-1 bg-green-500 animate-pulse"})]})]}),g?(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"jsx-a37c90c11d2d9559 text-black mb-3 text-sm",children:"وجه الكاميرا نحو الباركود"}),a.jsx("button",{onClick:f,className:"jsx-a37c90c11d2d9559 bg-red-600 text-white px-4 py-1.5 rounded-md hover:bg-red-700 transition-colors text-sm",children:"إيقاف الكاميرا"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"jsx-a37c90c11d2d9559 text-black mb-3 text-sm",children:"استخدم الكاميرا لمسح الباركود"}),(0,a.jsxs)("div",{className:"jsx-a37c90c11d2d9559 text-center text-xs text-gray-500 mb-3",children:[a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"نصائح للمسح:"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• ضع الباركود في وسط الإطار المحدد"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• تأكد من إضاءة جيدة وعدم وجود ظلال"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• حافظ على الكاميرا ثابتة على بعد 10-20 سم"}),a.jsx("p",{className:"jsx-a37c90c11d2d9559",children:"• تأكد من أن الباركود واضح وغير مكسور"})]}),a.jsx("button",{onClick:()=>{console.log("Camera button clicked"),p()},className:"jsx-a37c90c11d2d9559 bg-green-600 text-white px-4 py-1.5 rounded-md hover:bg-green-700 transition-colors text-sm",children:"تشغيل الكاميرا"})]})]})]})})]}):null}},67923:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var a=r(95344),t=r(3729);let c=["تعديل فاتورة مبيعات","تعديل فاتورة مشتريات","الغاء فاتورة مبيعات/مشتريات","الغاء مبلغ - صندوق/مصروفات","الغاء سند - قبض/صرف","ارجاع فاتورة مبيعات","ارجاع فاتورة مشتريات","الغاء فاتورة مرتجع مبيعات","التحويل بين العملاء و الموردين","معالجة المنتجات التالفة","شاشة عرض الأسعار"],l=["الاعدادات","الضرائب","الطابعه"],d=["النسخ الاحتياطي للبيانات"];function o({onClose:e}){return(0,a.jsxs)("div",{className:"flex h-full w-64 flex-col bg-white border-l border-gray-200",dir:"rtl",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between border-b border-gray-200 px-4 flex-shrink-0",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"مايكرو POS"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-700 lg:hidden",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"flex-1 px-4 py-4 space-y-6 overflow-y-auto",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-700 font-bold mb-2",children:"معالجات متقدمة"}),a.jsx("ul",{className:"space-y-1",children:c.map((e,s)=>a.jsx("li",{className:"rounded bg-gray-100 text-gray-800 px-3 py-2 text-sm border border-transparent hover:bg-gray-200 transition",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-700 font-bold mb-2",children:"اعدادات النظام"}),a.jsx("ul",{className:"space-y-1",children:l.map((e,s)=>a.jsx("li",{className:"rounded bg-gray-100 text-gray-800 px-3 py-2 text-sm border border-transparent hover:bg-gray-200 transition",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-700 font-bold mb-2",children:"النسخ الاحتياطي"}),a.jsx("ul",{className:"space-y-1",children:d.map((e,s)=>a.jsx("li",{className:"rounded bg-gray-100 text-gray-800 px-3 py-2 text-sm border border-transparent hover:bg-gray-200 transition",children:e},s))})]})]}),a.jsx("div",{className:"border-t border-gray-200 p-4 flex-shrink-0",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300"}),(0,a.jsxs)("div",{className:"mr-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"مشرف النظام"}),a.jsx("p",{className:"text-xs text-gray-500",children:"admin@micropos.com"})]})]})})]})}function n({children:e,navbarTitle:s,onBack:r,menuOptions:c,hideNavbar:l}){let[d,n]=(0,t.useState)(!1),[i,x]=(0,t.useState)(!1);return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[d&&a.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>n(!1)}),a.jsx("div",{className:`fixed inset-y-0 right-0 z-50 w-64 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 ${d?"translate-x-0":"translate-x-full"}`,children:a.jsx(o,{onClose:()=>n(!1)})}),(0,a.jsxs)("main",{className:"flex-1 overflow-auto",children:[!l&&a.jsx("div",{className:`sticky top-0 z-30 shadow-sm lg:hidden ${s?"bg-white":"bg-gradient-to-l from-blue-600 to-purple-600"}`,children:s?(0,a.jsxs)("div",{className:"flex items-center justify-between px-2 py-3 relative",children:[a.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700 px-2",style:{minWidth:40},children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("div",{className:"flex-1 flex justify-center",children:a.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:s})}),(0,a.jsxs)("div",{className:"relative",style:{minWidth:40},children:[a.jsx("button",{onClick:()=>x(e=>!e),className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700 px-2",children:(0,a.jsxs)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[a.jsx("circle",{cx:"12",cy:"12",r:"1.5"}),a.jsx("circle",{cx:"19.5",cy:"12",r:"1.5"}),a.jsx("circle",{cx:"4.5",cy:"12",r:"1.5"})]})}),i&&c&&c.length>0&&a.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg z-50 max-h-64 overflow-y-auto",children:c.map((e,s)=>a.jsx("button",{onClick:()=>{x(!1),e.onClick()},className:"block w-full text-right px-4 py-2 text-gray-700 hover:bg-gray-100 text-sm",children:e.label},s))})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>n(!0),className:"text-white hover:text-gray-100 focus:outline-none focus:text-gray-100",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("h1",{className:"text-lg font-semibold text-white",children:"microPOS"}),a.jsx("div",{className:"w-6"})," "]})}),a.jsx("div",{className:"p-4 lg:p-6",children:e})]})]})}},82917:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o,metadata:()=>l,viewport:()=>d});var a=r(25036),t=r(80265),c=r.n(t);r(67272);let l={title:"microPOS - Point of Sale System",description:"A modern web-based point of sale system"},d={width:"device-width",initialScale:1};function o({children:e}){return a.jsx("html",{lang:"ar",dir:"rtl",children:a.jsx("body",{className:c().className,children:e})})}},67272:()=>{}};