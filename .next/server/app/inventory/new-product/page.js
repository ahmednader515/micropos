(()=>{var e={};e.id=36,e.ids=[36],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},85380:(e,c,s)=>{"use strict";s.r(c),s.d(c,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>x,tree:()=>i});var d=s(50482),r=s(69108),t=s(62563),o=s.n(t),a=s(68300),n={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>a[e]);s.d(c,n);let i=["",{children:["inventory",{children:["new-product",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,84441)),"C:\\Users\\PC\\Desktop\\micropos\\app\\inventory\\new-product\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"C:\\Users\\PC\\Desktop\\micropos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\PC\\Desktop\\micropos\\app\\inventory\\new-product\\page.tsx"],u="/inventory/new-product/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new d.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/inventory/new-product/page",pathname:"/inventory/new-product",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},10289:(e,c,s)=>{Promise.resolve().then(s.bind(s,82572))},82572:(e,c,s)=>{"use strict";s.r(c),s.d(c,{default:()=>i});var d=s(95344),r=s(47983),t=s.n(r),o=s(3729),a=s(67923),n=s(18999);function i(){let[e,c]=(0,o.useState)([]),[s,r]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),[u,p]=(0,o.useState)({name:"",description:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",sku:"",categoryId:""});(0,o.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let s=await e.json();c(s.categories)}}catch(e){console.error("Error fetching categories:",e)}},m=async e=>{e.preventDefault(),r(!0);try{let e=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,price:parseFloat(u.price),costPrice:parseFloat(u.costPrice),stock:parseInt(u.stock),minStock:parseInt(u.minStock)})});if(e.ok)alert("تم إضافة المنتج بنجاح!"),p({name:"",description:"",price:"",costPrice:"",stock:"",minStock:"",barcode:"",sku:"",categoryId:""});else{let c=await e.json();alert(`خطأ: ${c.error}`)}}catch(e){console.error("Error creating product:",e),alert("حدث خطأ أثناء إضافة المنتج")}finally{r(!1)}},f=e=>{let{name:c,value:s}=e.target;p(e=>({...e,[c]:s}))};return(0,d.jsxs)(d.Fragment,{children:[d.jsx(t(),{id:"ccc33c1d4defd8d1",children:'input[type="text"].jsx-ccc33c1d4defd8d1{color:black!important}input[type="number"].jsx-ccc33c1d4defd8d1{color:black!important}textarea.jsx-ccc33c1d4defd8d1{color:black!important}select.jsx-ccc33c1d4defd8d1{color:black!important}input.jsx-ccc33c1d4defd8d1::-webkit-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1:-moz-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::-moz-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1:-ms-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::-ms-input-placeholder{color:#6b7280!important}input.jsx-ccc33c1d4defd8d1::placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-webkit-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1:-moz-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-moz-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1:-ms-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::-ms-input-placeholder{color:#6b7280!important}textarea.jsx-ccc33c1d4defd8d1::placeholder{color:#6b7280!important}'}),(0,d.jsxs)(a.default,{navbarTitle:"إضافة منتج جديد",onBack:()=>window.history.back(),children:[(0,d.jsxs)("div",{dir:"rtl",className:"jsx-ccc33c1d4defd8d1 space-y-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("h1",{className:"jsx-ccc33c1d4defd8d1 text-2xl sm:text-3xl font-bold text-gray-900",children:"إضافة منتج جديد"}),d.jsx("p",{className:"jsx-ccc33c1d4defd8d1 mt-2 text-gray-600",children:"أدخل تفاصيل المنتج الجديد"})]}),d.jsx("div",{className:"jsx-ccc33c1d4defd8d1 bg-white shadow-sm rounded-lg p-6",children:(0,d.jsxs)("form",{onSubmit:m,className:"jsx-ccc33c1d4defd8d1 space-y-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"name",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"اسم المنتج *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:f,required:!0,placeholder:"أدخل اسم المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"categoryId",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الفئة"}),(0,d.jsxs)("select",{id:"categoryId",name:"categoryId",value:u.categoryId,onChange:f,className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"",className:"jsx-ccc33c1d4defd8d1",children:"اختر الفئة"}),e.map(e=>d.jsx("option",{value:e.id,className:"jsx-ccc33c1d4defd8d1",children:e.name},e.id))]})]})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"description",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),d.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:f,rows:3,placeholder:"وصف المنتج (اختياري)",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"price",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"سعر البيع *"}),d.jsx("input",{type:"number",id:"price",name:"price",value:u.price,onChange:f,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"costPrice",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"سعر التكلفة"}),d.jsx("input",{type:"number",id:"costPrice",name:"costPrice",value:u.costPrice,onChange:f,min:"0",step:"0.01",placeholder:"0.00",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"stock",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الكمية المتوفرة *"}),d.jsx("input",{type:"number",id:"stock",name:"stock",value:u.stock,onChange:f,required:!0,min:"0",placeholder:"0",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"minStock",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الحد الأدنى للمخزون"}),d.jsx("input",{type:"number",id:"minStock",name:"minStock",value:u.minStock,onChange:f,min:"0",placeholder:"0",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"barcode",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"الباركود"}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 flex items-center space-x-2 space-x-reverse",children:[d.jsx("div",{className:"jsx-ccc33c1d4defd8d1 flex-1",children:d.jsx("input",{type:"text",id:"barcode",name:"barcode",value:u.barcode,onChange:f,placeholder:"باركود المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsx("button",{type:"button",onClick:()=>l(!0),className:"jsx-ccc33c1d4defd8d1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:d.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-ccc33c1d4defd8d1 w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V6a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1zm12 0h2a1 1 0 001-1V6a1 1 0 00-1-1h-2a1 1 0 00-1 1v1a1 1 0 001 1zM5 20h2a1 1 0 001-1v-1a1 1 0 00-1-1H5a1 1 0 00-1 1v1a1 1 0 001 1z",className:"jsx-ccc33c1d4defd8d1"})})})]})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1",children:[d.jsx("label",{htmlFor:"sku",className:"jsx-ccc33c1d4defd8d1 block text-sm font-medium text-gray-700 mb-2",children:"رمز المنتج (SKU)"}),d.jsx("input",{type:"text",id:"sku",name:"sku",value:u.sku,onChange:f,placeholder:"رمز المنتج",className:"jsx-ccc33c1d4defd8d1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,d.jsxs)("div",{className:"jsx-ccc33c1d4defd8d1 flex justify-end space-x-3 space-x-reverse",children:[d.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"jsx-ccc33c1d4defd8d1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"إلغاء"}),d.jsx("button",{type:"submit",disabled:s,className:"jsx-ccc33c1d4defd8d1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"جاري الإضافة...":"إضافة المنتج"})]})]})})]}),d.jsx(n.Z,{isVisible:i,onResult:e=>{p(c=>({...c,barcode:e})),l(!1)},onClose:()=>l(!1)})]})]})}},84441:(e,c,s)=>{"use strict";s.r(c),s.d(c,{$$typeof:()=>t,__esModule:()=>r,default:()=>o});let d=(0,s(86843).createProxy)(String.raw`C:\Users\PC\Desktop\micropos\app\inventory\new-product\page.tsx`),{__esModule:r,$$typeof:t}=d,o=d.default}};var c=require("../../../webpack-runtime.js");c.C(e);var s=e=>c(c.s=e),d=c.X(0,[638,969,168,188],()=>s(85380));module.exports=d})();